<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ Some/Any Master Challenge</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 30%, #f093fb 60%, #4facfe 100%);
            background-size: 400% 400%;
            animation: gradientMove 20s ease infinite;
            min-height: 100vh;
            padding: 20px;
        }

        @keyframes gradientMove {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .container {
            max-width: 1100px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 35px;
            animation: slideDown 1s;
        }

        @keyframes slideDown {
            from {
                opacity: 0;
                transform: translateY(-80px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        h1 {
            color: white;
            font-size: 3.8em;
            text-shadow: 4px 4px 12px rgba(0,0,0,0.5);
            margin-bottom: 12px;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .subtitle {
            color: #fef3c7;
            font-size: 1.5em;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .part-selector {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            margin-bottom: 35px;
        }

        .part-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 30px;
            font-size: 1.4em;
            font-weight: bold;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.4s;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        .part-btn:hover {
            transform: translateY(-8px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
        }

        .part-btn.active {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            transform: scale(1.08);
        }

        .stats-dashboard {
            background: rgba(255, 255, 255, 0.95);
            padding: 28px;
            border-radius: 25px;
            margin-bottom: 30px;
            box-shadow: 0 12px 35px rgba(0,0,0,0.3);
        }

        .stats-row {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 15px;
        }

        .stat-card {
            text-align: center;
            padding: 20px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            border-radius: 15px;
            transition: all 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px) rotate(3deg);
        }

        .stat-card:nth-child(2) { background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%); }
        .stat-card:nth-child(3) { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); }
        .stat-card:nth-child(4) { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
        .stat-card:nth-child(5) { background: linear-gradient(135deg, #d299c2 0%, #fef9d7 100%); }

        .stat-label {
            font-size: 0.95em;
            color: #64748b;
            font-weight: bold;
            margin-bottom: 8px;
        }

        .stat-value {
            font-size: 2.2em;
            font-weight: bold;
            color: #1e293b;
        }

        .progress-wrap {
            background: rgba(255, 255, 255, 0.25);
            height: 35px;
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 35px;
            box-shadow: inset 0 3px 8px rgba(0,0,0,0.3);
        }

        .progress-fill {
            background: linear-gradient(90deg, #10b981, #059669, #047857, #10b981);
            background-size: 200% 100%;
            animation: progressSlide 3s linear infinite;
            height: 100%;
            transition: width 0.6s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 1.2em;
        }

        @keyframes progressSlide {
            0% { background-position: 0% 50%; }
            100% { background-position: 200% 50%; }
        }

        .quiz-box {
            background: white;
            padding: 45px;
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
            margin-bottom: 35px;
            animation: zoomIn 0.6s;
        }

        @keyframes zoomIn {
            from {
                opacity: 0;
                transform: scale(0.7);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .question-tag {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 14px 30px;
            border-radius: 50px;
            display: inline-block;
            font-weight: bold;
            margin-bottom: 25px;
            font-size: 1.2em;
        }

        .question-text {
            font-size: 1.5em;
            color: #1e293b;
            margin-bottom: 35px;
            line-height: 1.8;
            font-weight: 600;
        }

        .options-list {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 18px;
        }

        .option-item {
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border: 4px solid transparent;
            padding: 25px;
            border-radius: 15px;
            font-size: 1.25em;
            cursor: pointer;
            transition: all 0.4s;
            font-weight: 500;
        }

        .option-item:hover {
            transform: translateY(-6px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
        }

        .option-item.selected {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            border-color: #f59e0b;
        }

        .option-item.correct {
            background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
            border-color: #10b981;
            animation: correctPulse 0.6s;
        }

        @keyframes correctPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.08); }
        }

        .option-item.wrong {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            border-color: #ef4444;
            animation: wrongShake 0.6s;
        }

        @keyframes wrongShake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-12px); }
            75% { transform: translateX(12px); }
        }

        .option-item.disabled {
            pointer-events: none;
            opacity: 0.7;
        }

        .feedback-area {
            margin-top: 30px;
            padding: 30px;
            border-radius: 20px;
            font-size: 1.4em;
            font-weight: bold;
            text-align: center;
            display: none;
        }

        .feedback-area.show {
            display: block;
        }

        .feedback-area.correct {
            background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
            color: #92400e;
            border: 4px solid #f59e0b;
        }

        .feedback-area.wrong {
            background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
            color: #991b1b;
            border: 4px solid #ef4444;
        }

        .next-btn {
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white;
            border: none;
            padding: 18px 50px;
            font-size: 1.3em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 20px;
            font-weight: bold;
            display: none;
            transition: all 0.3s;
        }

        .next-btn.show {
            display: inline-block;
        }

        .next-btn:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 20px rgba(16, 185, 129, 0.4);
        }

        .final-screen {
            display: none;
            background: white;
            padding: 60px;
            border-radius: 30px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
            text-align: center;
        }

        .final-screen.show {
            display: block;
        }

        .trophy {
            font-size: 8em;
            animation: rotateTrophy 3s infinite;
        }

        @keyframes rotateTrophy {
            0%, 100% { transform: rotate(0deg); }
            50% { transform: rotate(360deg); }
        }

        .final-title {
            font-size: 2.8em;
            color: #1e293b;
            margin: 25px 0;
            font-weight: bold;
        }

        .final-score {
            font-size: 5em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin: 20px 0;
        }

        .final-message {
            font-size: 1.6em;
            color: #475569;
            margin: 25px 0;
            line-height: 1.7;
        }

        .results-table {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 25px;
            margin: 40px 0;
        }

        .result-box {
            padding: 25px;
            background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
            border-radius: 18px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .result-box:nth-child(1) { background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%); }
        .result-box:nth-child(2) { background: linear-gradient(135d, #fee2e2 0%, #fecaca 100%); }
        .result-box:nth-child(3) { background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%); }

        .result-label {
            font-size: 1.1em;
            color: #64748b;
            margin-bottom: 10px;
        }

        .result-number {
            font-size: 3em;
            font-weight: bold;
            color: #1e293b;
        }

        .replay-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 22px 60px;
            font-size: 1.5em;
            border-radius: 50px;
            cursor: pointer;
            margin-top: 35px;
            font-weight: bold;
            transition: all 0.3s;
        }

        .replay-btn:hover {
            transform: translateY(-6px) scale(1.05);
            box-shadow: 0 12px 30px rgba(102, 126, 234, 0.4);
        }

        @media (max-width: 768px) {
            .part-selector { grid-template-columns: 1fr; }
            .stats-row { grid-template-columns: repeat(2, 1fr); }
            .options-list { grid-template-columns: 1fr; }
            .results-table { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ SOME/ANY MASTER CHALLENGE</h1>
            <div class="subtitle">‚ú® Chinh ph·ª•c ng·ªØ ph√°p Some/Any! ‚ú®</div>
        </div>

        <div class="part-selector">
            <button class="part-btn active" onclick="selectPart(1)">
                üìö PH·∫¶N 1<br>L√ù THUY·∫æT (20 c√¢u)
            </button>
            <button class="part-btn" onclick="selectPart(2)">
                ‚úçÔ∏è PH·∫¶N 2<br>B√ÄI T·∫¨P (20 c√¢u)
            </button>
        </div>

        <div class="stats-dashboard">
            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-label">üéØ Ph·∫ßn</div>
                    <div class="stat-value" id="partNum">1</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">üìù C√¢u h·ªèi</div>
                    <div class="stat-value" id="qNum">1/20</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">‚úÖ ƒê√∫ng</div>
                    <div class="stat-value" id="correctNum">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">‚ùå Sai</div>
                    <div class="stat-value" id="wrongNum">0</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label">‚≠ê ƒêi·ªÉm</div>
                    <div class="stat-value" id="scoreNum">0</div>
                </div>
            </div>
        </div>

        <div class="progress-wrap">
            <div class="progress-fill" id="progressFill">0%</div>
        </div>

        <div id="quizZone">
            <div class="quiz-box">
                <div class="question-tag" id="qTag">C√¢u 1</div>
                <div class="question-text" id="qText"></div>
                <div class="options-list" id="optionsList"></div>
                <div class="feedback-area" id="feedbackArea"></div>
                <center>
                    <button class="next-btn" id="nextBtn" onclick="nextQ()">C√¢u ti·∫øp theo ‚Üí</button>
                </center>
            </div>
        </div>

        <div class="final-screen" id="finalScreen">
            <div class="trophy">üèÜ</div>
            <div class="final-title" id="finalTitle"></div>
            <div class="final-score" id="finalScore"></div>
            <div class="final-message" id="finalMessage"></div>
            
            <div class="results-table">
                <div class="result-box">
                    <div class="result-label">‚úÖ Tr·∫£ l·ªùi ƒë√∫ng</div>
                    <div class="result-number" id="finalCorrect">0</div>
                </div>
                <div class="result-box">
                    <div class="result-label">‚ùå Tr·∫£ l·ªùi sai</div>
                    <div class="result-number" id="finalWrong">0</div>
                </div>
                <div class="result-box">
                    <div class="result-label">üìä ƒê·ªô ch√≠nh x√°c</div>
                    <div class="result-number" id="finalPercent">0%</div>
                </div>
            </div>
            
            <button class="replay-btn" onclick="replayPart()">üîÑ Ch∆°i l·∫°i</button>
        </div>
    </div>

    <script>
        // PH·∫¶N 1: L√ù THUY·∫æT
        const theoryQuestions = [
            {
                question: "SOME v√† ANY c√≥ th·ªÉ d√πng v·ªõi lo·∫°i danh t·ª´ n√†o?",
                options: ["Ch·ªâ danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c", "Ch·ªâ danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c", "C·∫£ danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c v√† kh√¥ng ƒë·∫øm ƒë∆∞·ª£c", "Kh√¥ng d√πng v·ªõi danh t·ª´"],
                correct: 2
            },
            {
                question: "SOME th∆∞·ªùng ƒë∆∞·ª£c d√πng trong lo·∫°i c√¢u n√†o?",
                options: ["C√¢u ph·ªß ƒë·ªãnh", "C√¢u kh·∫≥ng ƒë·ªãnh", "C√¢u h·ªèi", "C√¢u ƒëi·ªÅu ki·ªán"],
                correct: 1
            },
            {
                question: "C√¢u n√†o sau ƒë√¢y d√πng SOME ƒë√∫ng?",
                options: ["Do you have some eggs?", "There's some salt over there.", "I don't have some money.", "Is there some milk?"],
                correct: 1
            },
            {
                question: "ANY th∆∞·ªùng ƒë∆∞·ª£c d√πng trong c√¢u n√†o?",
                options: ["C√¢u h·ªèi v√† c√¢u ph·ªß ƒë·ªãnh", "Ch·ªâ c√¢u kh·∫≥ng ƒë·ªãnh", "C√¢u c·∫£m th√°n", "C√¢u m·ªánh l·ªánh"],
                correct: 0
            },
            {
                question: "Khi n√†o ta d√πng SOME trong c√¢u h·ªèi?",
                options: ["Kh√¥ng bao gi·ªù", "Khi m·ªùi ho·∫∑c ƒë·ªÅ ngh·ªã", "Lu√¥n lu√¥n", "Khi h·ªèi s·ªë l∆∞·ª£ng"],
                correct: 1
            },
            {
                question: "'Would you like SOME sugar?' - C√¢u n√†y d√πng SOME v√¨ sao?",
                options: ["Sai ng·ªØ ph√°p", "L√† l·ªùi m·ªùi", "L√† c√¢u h·ªèi b√¨nh th∆∞·ªùng", "L√† c√¢u ph·ªß ƒë·ªãnh"],
                correct: 1
            },
            {
                question: "Thay th·∫ø cho SOME v·ªõi danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c, ta c√≥ th·ªÉ d√πng:",
                options: ["a few", "a little", "few", "many"],
                correct: 1
            },
            {
                question: "Thay th·∫ø cho SOME v·ªõi danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c, ta c√≥ th·ªÉ d√πng:",
                options: ["a little", "little", "a few", "much"],
                correct: 2
            },
            {
                question: "A LITTLE c√≥ nghƒ©a l√†:",
                options: ["M·ªôt √≠t (ƒë·ªß d√πng)", "R·∫•t √≠t (kh√¥ng ƒë·ªß)", "Nhi·ªÅu", "Kh√¥ng c√≥ g√¨"],
                correct: 0
            },
            {
                question: "LITTLE (kh√¥ng c√≥ a) c√≥ nghƒ©a l√†:",
                options: ["M·ªôt √≠t (ƒë·ªß)", "H·∫ßu nh∆∞ kh√¥ng c√≥ (thi·∫øu)", "Nhi·ªÅu", "V·ª´a ƒë·ªß"],
                correct: 1
            },
            {
                question: "FEW (kh√¥ng c√≥ a) d√πng v·ªõi:",
                options: ["Danh t·ª´ kh√¥ng ƒë·∫øm ƒë∆∞·ª£c", "Danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c s·ªë nhi·ªÅu", "Danh t·ª´ ƒë·∫øm ƒë∆∞·ª£c s·ªë √≠t", "ƒê·ªông t·ª´"],
                correct: 1
            },
            {
                question: "NO thay th·∫ø cho t·ª´ n√†o?",
                options: ["some", "not any", "a few", "many"],
                correct: 1
            },
            {
                question: "'There are NO rooms left' nghƒ©a l√†:",
                options: ["C√≥ v√†i ph√≤ng", "Kh√¥ng c√≤n ph√≤ng n√†o", "C√≥ nhi·ªÅu ph√≤ng", "C√≥ m·ªôt ph√≤ng"],
                correct: 1
            },
            {
                question: "NONE thay th·∫ø cho:",
                options: ["some", "not any", "many", "much"],
                correct: 1
            },
            {
                question: "Trong c√¢u ph·ªß ƒë·ªãnh-nghi v·∫•n, ta d√πng:",
                options: ["some", "any", "no", "none"],
                correct: 1
            },
            {
                question: "'Aren't there ANY students?' - Lo·∫°i c√¢u g√¨?",
                options: ["Kh·∫≥ng ƒë·ªãnh", "Ph·ªß ƒë·ªãnh", "Nghi v·∫•n ph·ªß ƒë·ªãnh", "C·∫£m th√°n"],
                correct: 2
            },
            {
                question: "C√¢u n√†o th·ªÉ hi·ªán nghi ng·ªù ƒë√∫ng nh·∫•t?",
                options: ["I think we have some money.", "I don't think we have any money left.", "We have no money.", "Do we have some?"],
                correct: 1
            },
            {
                question: "'Can you lend me SOME money?' - D√πng SOME v√¨:",
                options: ["Sai ng·ªØ ph√°p", "L√† c√¢u h·ªèi ƒë·ªÅ ngh·ªã", "L√† c√¢u kh·∫≥ng ƒë·ªãnh", "Kh√¥ng l√Ω do"],
                correct: 1
            },
            {
                question: "SOMETHING/ANYTHING d√πng v·ªõi:",
                options: ["Danh t·ª´", "ƒê·ªông t·ª´", "T√≠nh t·ª´", "Kh√¥ng c·∫ßn g√¨ th√™m"],
                correct: 3
            },
            {
                question: "'Somebody/Anybody' c√≥ nghƒ©a l√†:",
                options: ["C√°i g√¨ ƒë√≥/b·∫•t c·ª© c√°i g√¨", "Ai ƒë√≥/b·∫•t c·ª© ai", "·ªû ƒë√¢u ƒë√≥/b·∫•t c·ª© ƒë√¢u", "Kh√¥ng ai/kh√¥ng g√¨"],
                correct: 1
            }
        ];

        // PH·∫¶N 2: B√ÄI T·∫¨P
        const practiceQuestions = [
            {
                question: "There's _____ salt over there.",
                options: ["some", "any", "few", "little"],
                correct: 0
            },
            {
                question: "Do you have _____ eggs?",
                options: ["some", "any", "no", "none"],
                correct: 1
            },
            {
                question: "Would you like _____ sugar in your coffee?",
                options: ["any", "some", "no", "few"],
                correct: 1
            },
            {
                question: "There isn't _____ milk left.",
                options: ["some", "any", "no", "little"],
                correct: 1
            },
            {
                question: "Can you lend me _____ money, please?",
                options: ["any", "some", "few", "little"],
                correct: 1
            },
            {
                question: "Is there _____ milk in the fridge?",
                options: ["some", "any", "no", "few"],
                correct: 1
            },
            {
                question: "There are _____ biscuits in the tin.",
                options: ["a few", "a little", "any", "much"],
                correct: 0
            },
            {
                question: "He eats _____ meat. (h·∫ßu nh∆∞ kh√¥ng ƒÉn)",
                options: ["a little", "little", "a few", "few"],
                correct: 1
            },
            {
                question: "There are _____ people who speak both Chinese and Greek.",
                options: ["little", "few", "a little", "a few"],
                correct: 1
            },
            {
                question: "There are _____ rooms left in the hotel.",
                options: ["no", "not", "none", "any"],
                correct: 0
            },
            {
                question: "_____ animals are allowed here.",
                options: ["Not", "No", "Any", "Some"],
                correct: 1
            },
            {
                question: "Do you have _____ books? - No, I have _____.",
                options: ["some - none", "any - none", "any - no", "some - no"],
                correct: 1
            },
            {
                question: "Aren't there _____ students in the room?",
                options: ["some", "any", "no", "few"],
                correct: 1
            },
            {
                question: "I don't think we have _____ money left.",
                options: ["some", "any", "no", "few"],
                correct: 1
            },
            {
                question: "Which pen do you want? - I don't mind, just give me _____.",
                options: ["something", "anything", "someone", "anyone"],
                correct: 1
            },
            {
                question: "_____ of the teachers went to the meeting.",
                options: ["No", "Not", "None", "Any"],
                correct: 2
            },
            {
                question: "There's _____ coffee left in the pot. Help yourself.",
                options: ["a few", "a little", "few", "little"],
                correct: 1
            },
            {
                question: "I have _____ friends in Hanoi. (m·ªôt v√†i ng∆∞·ªùi b·∫°n)",
                options: ["few", "a few", "little", "a little"],
                correct: 1
            },
            {
                question: "Can I have _____ water, please?",
                options: ["any", "some", "few", "many"],
                correct: 1
            },
            {
                question: "There isn't _____ butter. We need to buy _____.",
                options: ["some - some", "any - some", "any - any", "some - any"],
                correct: 1
            }
        ];

        const correctMessages = [
            "üéâ XU·∫§T S·∫ÆC! B·∫°n hi·ªÉu SOME/ANY nh∆∞ hi·ªÉu l√≤ng ng∆∞·ªùi y√™u c≈©! üíØüòÇ",
            "‚≠ê CH√çNH X√ÅC! N√£o b·∫°n s·∫Øc nh∆∞ dao c·∫°o r√¢u! üß†‚ú®",
            "üî• TUY·ªÜT V·ªúI! Grammar c·ªßa b·∫°n x·ªãn h∆°n c·∫£ iPhone m·ªõi! üì±üíé",
            "üí™ HO√ÄN H·∫¢O! B·∫°n gi·ªèi ƒë·∫øn m·ª©c t·ª´ ƒëi·ªÉn c≈©ng ph·∫£i h·ªçc l·∫°i! üìöüëë",
            "üéØ ƒê√öNG R·ªíI! IQ ng·ªØ ph√°p c·ªßa b·∫°n cao nh∆∞ gi√° xƒÉng! ‚õΩüòÜ",
            "‚ö° SI√äU ƒê·ªàNH! SOME/ANY run s·ª£ khi th·∫•y b·∫°n! üò±‚ú®",
            "üåü TUY·ªÜT V·ªúI! B·∫°n x·ª©ng l√†m gi√°o vi√™n c·ªßa c√¥ gi√°o! üë©‚Äçüè´üéì",
            "üéä XU·∫§T TH·∫¶N! B·∫°n c√≥ th·ªÉ thi Olympic ng·ªØ ph√°p r·ªìi! üèÖüåç",
            "‚ú® TH·∫¶N TH√ÅNH! Oxford xin ph√©p ƒë∆∞·ª£c h·ªçc b·∫°n! üìñüôá",
            "üöÄ ƒê·ªàNH CAO! NASA mu·ªën nghi√™n c·ª©u n√£o b·∫°n! üõ∏üî¨",
            "üé™ HO√ÄN M·ª∏! B·∫°n gi·ªèi h∆°n c·∫£ Google Translate! ü§ñüíØ",
            "üåà VI DI·ªÜU! Grammar c·ªßa b·∫°n ƒë·∫πp nh∆∞ c·∫ßu v·ªìng! üé®‚ú®",
            "üíé XU·∫§T CH√öNG! B·∫°n l√† vi√™n ng·ªçc qu√Ω c·ªßa ng·ªØ ph√°p! üíçüëë",
            "üé≠ TUY·ªÜT M·ª∏! Shakespeare ph·∫£i ghen t·ªã v·ªõi b·∫°n! üìúüòè",
            "üèÜ Vƒ® ƒê·∫†I! B·∫°n l√† huy·ªÅn tho·∫°i SOME/ANY! üëëüåü"
        ];

        const wrongMessages = [
            "üòÖ AI ∆†I! B·∫°n nh·∫ßm SOME v·ªõi SOMEONE r·ªìi! ü§¶üìö",
            "ü§¶ UI DA! H·ªçc l·∫°i ƒëi b·∫°n √™i! S√°ch ·ªü ƒë√¢u r·ªìi? üìñüò≠",
            "üòÇ M·∫∏ ∆†I! B·∫°n c√≥ ƒëi h·ªçc kh√¥ng v·∫≠y? üéí‚ùì",
            "üôà ·ªêI CHAO! ANY ∆°i l√† ANY! ƒê·ªçc k·ªπ ƒë·ªÅ n√†o! üëÄüìù",
            "üòµ TR·∫¨T L·∫¶T! C√¥ gi√°o ƒëang kh√≥c ƒë·∫•y! üë©‚Äçüè´üíß",
            "ü§∑ √ôI! SOME v√† ANY kh√¥ng ph·∫£i anh em sinh ƒë√¥i ƒë√¢u! üëØüòÖ",
            "üò¨ CH∆ØA ƒê√öNG! T·∫≠p trung nh∆∞ l√†m to√°n ƒëi! üßÆüí≠",
            "üôÉ SAI B√âT! V·ªÅ xem l·∫°i s√°ch gi√°o khoa! üìöüîÑ",
            "üòì THUA R·ªíI! Grammar kh√≥c v√¨ b·∫°n! üò¢üìñ",
            "ü§Ø TR·ªúI ∆†I! C√¢u n√†y d·ªÖ nh∆∞ ƒÉn k·∫πo m√†! üç¨üò±",
            "üò± ADUH! C√≥ khi ƒë·ªçc nh·∫ßm ƒë·ªÅ kh√¥ng? ü§ì‚ùå",
            "üôä ∆† H·ªú! SOME/ANY run m·∫•t d·∫°ng r·ªìi! üèÉüí®",
            "üòø AI YA! Th·∫ßy c√¥ bu·ªìn l·∫Øm ƒë√¢y! üë®‚Äçüè´üòî",
            "üêí ·ªêI Z·ªúI! H·ªçc l·∫°i t·ª´ ƒë·∫ßu th√¥i! üìùüî§",
            "ü¶Ü M·∫∏ ∆†I! Sai nhi·ªÅu h∆°n ƒë√∫ng r·ªìi! üìäüòÖ"
        ];

        let currentPart = 1;
        let currentIdx = 0;
        let questions = [];
        let score = 0;
        let correct = 0;
        let wrong = 0;

        function selectPart(part) {
            currentPart = part;
            currentIdx = 0;
            score = 0;
            correct = 0;
            wrong = 0;
            
            document.querySelectorAll('.part-btn').forEach((btn, i) => {
                btn.classList.remove('active');
                if (i + 1 === part) btn.classList.add('active');
            });
            
            questions = (part === 1) ? theoryQuestions : practiceQuestions;
            
            document.getElementById('partNum').textContent = part;
            document.getElementById('quizZone').style.display = 'block';
            document.getElementById('finalScreen').classList.remove('show');
            
            loadQ();
        }

        function loadQ() {
            if (currentIdx >= questions.length) {
                showFinal();
                return;
            }

            const q = questions[currentIdx];
            
            document.getElementById('qTag').textContent = `C√¢u ${currentIdx + 1}`;
            document.getElementById('qText').textContent = q.question;
            
            const list = document.getElementById('optionsList');
            list.innerHTML = '';
            
            q.options.forEach((opt, idx) => {
                const div = document.createElement('div');
                div.className = 'option-item';
                div.textContent = opt;
                div.onclick = () => pickOption(idx);
                list.appendChild(div);
            });

            document.getElementById('feedbackArea').classList.remove('show');
            document.getElementById('nextBtn').classList.remove('show');

            updateStats();
            updateBar();
        }

        function pickOption(idx) {
            const q = questions[currentIdx];
            const items = document.querySelectorAll('.option-item');
            const isRight = idx === q.correct;

            items[idx].classList.add('selected');

            setTimeout(() => {
                items.forEach(item => item.classList.add('disabled'));

                if (isRight) {
                    items[idx].classList.remove('selected');
                    items[idx].classList.add('correct');
                    score += 5;
                    correct++;
                    showFeedback(true);
                } else {
                    items[idx].classList.remove('selected');
                    items[idx].classList.add('wrong');
                    items[q.correct].classList.add('correct');
                    wrong++;
                    showFeedback(false);
                }

                updateStats();
                document.getElementById('nextBtn').classList.add('show');
            }, 600);
        }

        function showFeedback(isRight) {
            const area = document.getElementById('feedbackArea');
            const randIdx = Math.floor(Math.random() * 15);
            
            area.className = 'feedback-area show ' + (isRight ? 'correct' : 'wrong');
            area.textContent = isRight ? correctMessages[randIdx] : wrongMessages[randIdx];
        }

        function nextQ() {
            currentIdx++;
            loadQ();
        }

        function updateStats() {
            document.getElementById('qNum').textContent = `${currentIdx + 1}/20`;
            document.getElementById('correctNum').textContent = correct;
            document.getElementById('wrongNum').textContent = wrong;
            document.getElementById('scoreNum').textContent = score;
        }

        function updateBar() {
            const pct = ((currentIdx + 1) / 20 * 100).toFixed(0);
            document.getElementById('progressFill').style.width = pct + '%';
            document.getElementById('progressFill').textContent = pct + '%';
        }

        function showFinal() {
            document.getElementById('quizZone').style.display = 'none';
            document.getElementById('finalScreen').classList.add('show');
            
            const pct = (correct / 20 * 100).toFixed(0);
            
            document.getElementById('finalScore').textContent = `${score} / 100 ƒëi·ªÉm`;
            document.getElementById('finalCorrect').textContent = correct;
            document.getElementById('finalWrong').textContent = wrong;
            document.getElementById('finalPercent').textContent = pct + '%';

            let title, msg;
            
            if (pct >= 90) {
                title = "üèÜ SI√äU SAO SOME/ANY!";
                msg = "WOW! B·∫°n l√† TH·∫¶N ng·ªØ ph√°p! üëë SOME v√† ANY run s·ª£ khi g·∫∑p b·∫°n! B·∫°n c√≥ th·ªÉ m·ªü l·ªõp d·∫°y th√™m r·ªìi ƒë·∫•y! üë®‚Äçüè´‚ú®";
            } else if (pct >= 80) {
                title = "‚≠ê CAO TH·ª¶ SOME/ANY!";
                msg = "TUY·ªÜT V·ªúI! B·∫°n gi·ªèi l·∫Øm! üéâ Ch·ªâ c·∫ßn √¥n th√™m ch√∫t n·ªØa l√† ho√†n h·∫£o! C·ªë l√™n nh√©! üí™üìö";
            } else if (pct >= 70) {
                title = "üòä KH√âO ƒê·∫§Y!";
                msg = "T·ªêT L·∫ÆM! üëç B·∫°n ƒëang tr√™n ƒë∆∞·ªùng th√†nh c√¥ng! H·ªçc th√™m m·ªôt ch√∫t l√† master li·ªÅn! üöÄüìñ";
            } else if (pct >= 60) {
                title = "üôÇ C·ªê G·∫ÆNG NH√â!";
                msg = "T·∫†M ƒê∆Ø·ª¢C! üí™ C·∫ßn √¥n l·∫°i l√Ω thuy·∫øt ƒë·∫•y! ƒê·ªçc k·ªπ ph·∫ßn SOME/ANY trong s√°ch nh√©! üìöüîç";
            } else if (pct >= 40) {
                title = "üòÖ H·ªåC L·∫†I N√ÄO!";
                msg = "∆†I! üòÖ C·∫ßn h·ªçc l·∫°i t·ª´ ƒë·∫ßu r·ªìi! ƒê·ªçc k·ªπ l√Ω thuy·∫øt SOME/ANY ƒëi b·∫°n! ƒê·ª´ng b·ªè cu·ªôc! üìñüí°";
            } else {
                title = "üò≠ ∆†I GI·ªúI ∆†I!";
                msg = "√Å √Ä! üò± C√≥ v·∫ª b·∫°n ch∆∞a h·ªçc b√†i! V·ªÅ xem l·∫°i s√°ch gi√°o khoa ƒëi nh√©! C√¥ gi√°o ƒëang bu·ªìn l·∫Øm ƒë√¢y! üë©‚Äçüè´üíß";
            }

            document.getElementById('finalTitle').textContent = title;
            document.getElementById('finalMessage').textContent = msg;
        }

        function replayPart() {
            selectPart(currentPart);
        }

        window.onload = () => {
            selectPart(1);
        };
    </script>
</body>
</html>